<section class="body-full-color">
    <!-- <app-nav-bar></app-nav-bar> -->
    <div class="container overflow-x-auto mx-auto px-4 md:p-0 mt-10 md:mt-20">
        <div class="flex justify-end">
            <svg xmlns="http://www.w3.org/2000/svg"  (click)="openAddUserModal()" class="fontSvg m-2" viewBox="0 0 512 512">
                <path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"/>
            </svg>
        </div>
        <table class="min-w-full w-full bg-white rounded-lg overflow-hidden">
            <thead class="bg-gray-800 text-white">
                <tr>
                    <th class="py-2 px-4">ID</th>
                    <th class="py-2 px-4">Role</th>
                    <th class="py-2 px-4">Description</th>
                    <th class="py-2 px-4">Members</th>
                    <th class="py-2 px-4">Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let role of roles">
                    <td class="py-2 px-4 border border-gray-200">{{role.id}}</td>
                    <td class="py-2 px-4 border border-gray-200">{{role.name}}</td>
                    <td class="py-2 px-4 border border-gray-200">{{role.permissions}}</td>
                    <td class="flex justify-center">
                        <button [routerLink]="[ '/dashboard/role-users/', role.id ]" class="bg-white-500 opacity-6 hover:bg-blue-700 text-black font-bold py-2 px-4 rounded">
                            View
                        </button>
                    </td>
                    <td >
                        <div class="flex justify-between">
                            <button mat-button color="primary" (click)="openEditModal(role.id)">
                                Edit
                            </button>
                            <button mat-button color="warn" (click)="openDeleteModal(role.id)">
                                Delete
                            </button>
                            <button mat-button color="accent" (click)="openDeactivateModal(role.id)">
                                Deactivate
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
<!-- Add User Modal -->
<div *ngIf="isAddUserModalOpen" class="modal-overlay fixed inset-0 bg-black opacity-50 z-50"></div>
<div *ngIf="isAddUserModalOpen" class="modal-container fixed inset-0 flex items-center justify-center z-50">
    <div class="modal-content bg-white rounded-lg shadow-lg p-8 w-full md:w-1/2 overflow-y-auto max-h-full">
        <h2 class="text-xl font-semibold mb-4">Add Role</h2>
        <form (submit)="addRole()">
            <div class="mb-4">
                <div class="inputs">               
                    <input required type="text" id="roleName" name="roleName" [(ngModel)]="roleName">
                    <label>Role Name </label>
                </div>
            </div>
            <div class="mb-4">
                <div class="inputs">               
                    <textarea id="roleDescription" name="roleDescription" rows="3" [(ngModel)]="rolePermissions" required class="resize-none"></textarea>
                    <label>Role Description </label>
                </div>
            </div>
            <div class="flex justify-end">
                <button type="submit" mat-button color="primary">Add Role</button>
                <button mat-button color="primary" (click)="closeModal()">Close</button>
            </div>
        </form>
    </div>
</div>

<!-- Edit Modal -->
<div *ngIf="isEditModalOpen" class="modal-overlay fixed inset-0 bg-black opacity-50 z-50"></div>
<div *ngIf="isEditModalOpen" class="modal-container fixed inset-0 flex items-center justify-center z-50">
  <div class="modal-content bg-white rounded-lg shadow-lg p-8">
      <h2 class="text-xl font-semibold mb-4">Edit User</h2>
      <!-- Your edit form goes here -->
      <button mat-button color="primary" (click)="closeModal()">Close</button>
  </div>
</div>

<!-- Delete Modal -->
<div *ngIf="isDeleteModalOpen" class="modal-overlay fixed inset-0 bg-black opacity-50 z-50"></div>
<div *ngIf="isDeleteModalOpen" class="modal-container fixed inset-0 flex items-center justify-center z-50">
  <div class="modal-content bg-white rounded-lg shadow-lg p-8">
      <h2 class="text-xl font-semibold mb-4">Delete User</h2>
      <!-- Your delete confirmation message goes here -->
      <button mat-button color="primary" (click)="closeModal()">Close</button>
  </div>
</div>

<!-- Deactivate Modal -->
<div *ngIf="isDeactivateModalOpen" class="modal-overlay fixed inset-0 bg-black opacity-50 z-50"></div>
<div *ngIf="isDeactivateModalOpen" class="modal-container fixed inset-0 flex items-center justify-center z-50">
  <div class="modal-content bg-white rounded-lg shadow-lg p-8">
      <h2 class="text-xl font-semibold mb-4">Deactivate User</h2>
      <!-- Your deactivate confirmation message goes here -->
      <button mat-button color="primary" (click)="closeModal()">Close</button>
  </div>
</div>

</section>