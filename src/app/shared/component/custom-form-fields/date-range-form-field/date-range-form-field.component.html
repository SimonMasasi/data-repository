<ng-container *ngIf="isCustomField">
  <button [matMenuTriggerFor]="menu"
          class="custom-date-picker d-print-none {{ useFullWidth ? 'w-100' : ''}}"
          mat-stroked-button>
    Date Range
  </button>

  <mat-menu #menu="matMenu">
    <button (click)="generateDateRange(1)" mat-menu-item>1 Day</button>
    <button (click)="generateDateRange(7)" mat-menu-item>7 Days</button>
    <button (click)="generateDateRange(14)" mat-menu-item>14 Days</button>

    <mat-divider></mat-divider>

    <button (click)="generateDateRange(30)" mat-menu-item>1 Month</button>
    <button (click)="generateDateRange(90)" mat-menu-item>3 Months</button>

    <mat-divider></mat-divider>
    <button (click)="generateDateRange(365)" mat-menu-item>1 Year</button>
    <button (click)="generateDateRange(1825)" mat-menu-item>5 Years</button>
    <button [matMenuTriggerFor]="dateRangeMenu" mat-menu-item> Custom date range </button>
  </mat-menu>

  <mat-menu #dateRangeMenu="matMenu" class="px-3">
    <mat-form-field class="col-12 bg-white no-hint">
      <mat-label>{{ label }}</mat-label>
      <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
        <input formControlName="start" matStartDate placeholder="Start Date">
        <input formControlName="end" matEndDate placeholder="End Date">
      </mat-date-range-input>
      <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
      <mat-date-range-picker #picker></mat-date-range-picker>

      <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Invalid Start Date}</mat-error>
      <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Invalid end date</mat-error>
    </mat-form-field>
  </mat-menu>

</ng-container>

<ng-container *ngIf="!isCustomField">

  <mat-form-field appearance="outline" class="d-print-none">
    <mat-label>{{ label }}</mat-label>
    <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
      <input formControlName="start" matStartDate placeholder="Start Date">
      <input formControlName="end" matEndDate placeholder="End Date">
    </mat-date-range-input>
    <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>

    <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Invalid Start date</mat-error>
    <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Invalid End Date</mat-error>
  </mat-form-field>
</ng-container>
